<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Architecting Trust: Fake News Detector</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }

    .tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px 10px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -110px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.875rem;
      line-height: 1.25rem;
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #555 transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    .loader {
      border-top-color: #3498db;
      -webkit-animation: spin 1s linear infinite;
      animation: spin 1s linear infinite;
    }

    @-webkit-keyframes spin {
      0% {
        -webkit-transform: rotate(0deg);
      }

      100% {
        -webkit-transform: rotate(360deg);
      }
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body class="bg-gray-50 text-gray-800">
  <div class="container mx-auto px-4 py-8 md:py-12">
    <header class="text-center mb-10">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900">Architecting Trust</h1>
      <p class="mt-3 text-lg text-gray-600 max-w-3xl mx-auto">An AI-Powered Fake News Detector & Media Literacy Platform</p>
    </header>

    <main class="max-w-4xl mx-auto">
      <div id="inputSection" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200">
        <h2 class="text-xl font-semibold mb-4 text-gray-800">Analyze an Article</h2>
        <p class="text-gray-600 mb-6">Paste the URL or text of a news article below to generate a comprehensive Credibility Report.</p>
        <div class="space-y-4">
          <textarea id="articleInput" class="w-full h-36 p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow duration-200" placeholder="Enter URL or paste article text here..."></textarea>
          <button id="analyzeBtn" class="w-full bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105">
            Analyze Credibility
          </button>
        </div>
      </div>

      <div id="loadingSection" class="text-center py-12 hidden">
        <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-24 w-24 mx-auto"></div>
        <p class="mt-4 text-lg font-medium text-gray-600">Analyzing... Please wait.</p>
        <p class="text-sm text-gray-500">Cross-referencing sources and evaluating content.</p>
      </div>

      <div id="reportSection" class="mt-12 hidden"></div>
    </main>

    <footer class="text-center mt-16 text-gray-500 text-sm">
      <p>&copy; 2025 Architecting Trust. This is a prototype for demonstration purposes.</p>
    </footer>
  </div>

  <script>
    // DOM Elements
    const analyzeBtn = document.getElementById('analyzeBtn');
    const articleInput = document.getElementById('articleInput');
    const inputSection = document.getElementById('inputSection');
    const loadingSection = document.getElementById('loadingSection');
    const reportSection = document.getElementById('reportSection');

    // Event Listener for the Analyze Button
    analyzeBtn.addEventListener('click', () => {
      if (articleInput.value.trim() === "") {
        alert("Please enter a URL or article text to analyze.");
        return;
      }

      inputSection.classList.add('hidden');
      loadingSection.classList.remove('hidden');
      reportSection.classList.add('hidden');
      reportSection.innerHTML = '';

      setTimeout(() => {
        loadingSection.classList.add('hidden');
        reportSection.classList.remove('hidden');
        generateReport();
      }, 2500);
    });

    // Function to generate the mock report
    function generateReport() {
      const reportData = {
        score: 38,
        label: "Proceed with Caution",
        color: "bg-yellow-500",
        summary: "This article exhibits several red flags, including emotionally charged language and claims that are not widely corroborated by reputable sources. The publisher has a mixed record on journalistic standards.",
        sourceAnalysis: {
          name: "GlobalNewsWire.info",
          newsguardScore: 45,
          summary: "Fails to meet several basic standards of credibility and transparency. Known for publishing opinion pieces as straight news and has a history of not correcting errors.",
          criteria: [
            { name: "Avoids Deceptive Headlines", met: false },
            { name: "Regularly Corrects or Clarifies Errors", met: false },
            { name: "Discloses Ownership and Financing", met: true },
            { name: "Clearly Labels Advertising", met: true },
          ]
        },
        contentAnalysis: {
          text: `A shocking new report reveals a <span class="tooltip bg-yellow-100 rounded px-1">disastrous plan<span class="tooltiptext">This phrase uses emotionally charged language to provoke a negative reaction rather than presenting neutral facts.</span></span> by city officials that could bankrupt the local economy. Critics are calling it an <span class="tooltip bg-yellow-100 rounded px-1">outrageous overreach<span class="tooltiptext">"Outrageous" is a subjective, emotive adjective. Misinformation often relies on emotional appeals.</span></span>, and sources inside city hall claim the decision was made behind closed doors. The new policy, which will allegedly double property taxes for everyone, has been met with widespread condemnation. <span class="tooltip bg-red-100 rounded px-1">Absolutely everyone agrees<span class="tooltiptext">Absolutist claims like "everyone agrees" are a major red flag. They are rarely true and are used to shut down debate.</span></span> this is a terrible idea.`
        },
        factualCrossCheck: {
          factChecks: [
            { source: "PolitiFact", verdict: "Mostly False", url: "#" },
            { source: "Snopes", verdict: "Mixture", url: "#" }
          ],
          corroboration: [
            { type: "Conflicting", title: "City Council Proposes Modest Tax Adjustment, Citing Budget Needs - Associated Press", url: "#" },
            { type: "Conflicting", title: "Fact Check: Viral Claims About Property Tax Hike Are Exaggerated - Reuters", url: "#" },
            { type: "Neutral", title: "Understanding the New Municipal Budget Proposal - Local City Times", url: "#" }
          ]
        }
      };

      const reportHTML = `
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200">
          <h2 class="text-2xl font-bold text-gray-900 mb-4">Credibility Report</h2>
          
          <div class="text-center bg-gray-100 rounded-xl p-6 mb-8">
            <p class="text-sm font-semibold text-gray-500 uppercase">Overall Credibility Score</p>
            <p class="text-7xl font-bold ${reportData.color.replace('bg-', 'text-')}">${reportData.score}</p>
            <span class="inline-block px-4 py-1 mt-2 text-white font-semibold rounded-full ${reportData.color}">${reportData.label}</span>
          </div>

          <div class="mb-8">
            <h3 class="text-lg font-semibold mb-2 text-gray-800">Executive Summary</h3>
            <p class="text-gray-600">${reportData.summary}</p>
          </div>

          <div class="grid md:grid-cols-2 gap-8">
            <div class="bg-gray-50 p-6 rounded-lg border">
              <h4 class="font-bold text-gray-800 mb-4">Source Analysis: <span class="font-normal">${reportData.sourceAnalysis.name}</span></h4>
              <div class="flex items-center gap-4 mb-4">
                <div class="text-4xl font-bold text-red-600">${reportData.sourceAnalysis.newsguardScore}</div>
                <p class="text-sm text-gray-600">${reportData.sourceAnalysis.summary}</p>
              </div>
              <ul class="space-y-2 text-sm">
                ${reportData.sourceAnalysis.criteria.map(c => `
                  <li class="flex items-center">
                    ${c.met ? `
                      <svg class="w-5 h-5 text-green-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                      </svg>
                    ` : `
                      <svg class="w-5 h-5 text-red-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                      </svg>
                    `}
                    <span>${c.name}</span>
                  </li>
                `).join('')}
              </ul>
            </div>

            <div class="bg-gray-50 p-6 rounded-lg border">
              <h4 class="font-bold text-gray-800 mb-4">Factual Cross-Check</h4>
              <div class="mb-4">
                <h5 class="font-semibold text-sm mb-2">Fact-Checker Verdicts:</h5>
                <div class="flex gap-4">
                  ${reportData.factualCrossCheck.factChecks.map(fc => `
                    <a href="${fc.url}" target="_blank" class="block bg-white p-2 border rounded-md text-center hover:bg-gray-100">
                      <p class="font-bold text-sm">${fc.source}</p>
                      <p class="text-xs text-red-600 font-semibold">${fc.verdict}</p>
                    </a>
                  `).join('')}
                </div>
              </div>
              <div>
                <h5 class="font-semibold text-sm mb-2">Related News Coverage:</h5>
                <ul class="space-y-2">
                  ${reportData.factualCrossCheck.corroboration.map(c => `
                    <li class="text-xs">
                      <span class="font-bold ${c.type === 'Conflicting' ? 'text-red-600' : 'text-gray-600'}">${c.type}:</span>
                      <a href="${c.url}" target="_blank" class="text-blue-600 hover:underline ml-1">${c.title}</a>
                    </li>
                  `).join('')}
                </ul>
              </div>
            </div>
          </div>

          <div class="mt-8">
            <h4 class="font-bold text-gray-800 mb-4">Content & Linguistic Analysis</h4>
            <div class="bg-gray-50 p-6 rounded-lg border">
              <p class="text-gray-700 leading-relaxed">${reportData.contentAnalysis.text}</p>
            </div>
            <p class="text-xs text-gray-500 mt-2 text-center">Hover over highlighted phrases for an explanation of potential red flags.</p>
          </div>
        </div>

        <div class="text-center mt-6">
          <button id="resetBtn" class="bg-gray-200 text-gray-700 font-semibold py-2 px-5 rounded-lg hover:bg-gray-300 transition-colors">Analyze Another Article</button>
        </div>
      `;

      reportSection.innerHTML = reportHTML;

      document.getElementById('resetBtn').addEventListener('click', () => {
        reportSection.classList.add('hidden');
        reportSection.innerHTML = '';
        articleInput.value = '';
        inputSection.classList.remove('hidden');
      });
    }
  </script>
</body>

</html>
